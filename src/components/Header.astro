---
import { Menu, X } from 'lucide-react';
---

<header class="fixed top-0 w-full bg-gray-900/95 backdrop-blur-md z-50 border-b border-gray-800/50">
  <nav class="container mx-auto px-4 py-4">
    <div class="flex items-center justify-between">
      <a href="#" class="flex items-center gap-3 group">
        <img src="/autimind_logo_sq300.png" alt="AutiMind Logo" class="w-12 h-12 rounded-full" />
        <span class="text-2xl font-bold bg-gradient-to-r from-teal-400 to-orange-400 bg-clip-text text-transparent">
          AutiMind
        </span>
      </a>
      
      <div class="hidden md:flex items-center gap-6">
        <a href="#about" class="text-gray-300 hover:text-teal-400 transition-colors relative group text-sm">
          About
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-teal-400 transition-all group-hover:w-full"></span>
        </a>
        <a href="/services" class="text-gray-300 hover:text-orange-400 transition-colors relative group text-sm">
          AI Services
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-orange-400 transition-all group-hover:w-full"></span>
        </a>
        <a href="/industries" class="text-gray-300 hover:text-teal-400 transition-colors relative group text-sm">
          Industries
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-teal-400 transition-all group-hover:w-full"></span>
        </a>
        <a href="/our-work" class="text-gray-300 hover:text-orange-400 transition-colors relative group text-sm">
          Our Work
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-orange-400 transition-all group-hover:w-full"></span>
        </a>
        <a href="/astrolms" class="text-gray-300 hover:text-teal-400 transition-colors relative group text-sm">
          AstroLMS
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-teal-400 transition-all group-hover:w-full"></span>
        </a>
        <a href="/autimind-investors" class="text-gray-300 hover:text-orange-400 transition-colors relative group text-sm">
          Investors
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-orange-400 transition-all group-hover:w-full"></span>
        </a>
        <a href="#contact" class="text-gray-300 hover:text-teal-400 transition-colors relative group text-sm">
          Contact
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-teal-400 transition-all group-hover:w-full"></span>
        </a>
      </div>
      
      <button 
        class="md:hidden text-gray-300 hover:text-teal-400 transition-colors p-2 rounded-lg hover:bg-gray-800/50 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:ring-offset-2 focus:ring-offset-gray-900" 
        id="mobile-menu-toggle"
        aria-label="Toggle mobile menu"
        aria-expanded="false"
        aria-controls="mobile-menu"
      >
        <Menu className="w-6 h-6" id="menu-icon" style={{display: "block"}} />
        <X className="w-6 h-6" id="close-icon" style={{display: "none"}} />
      </button>
    </div>
    
    <!-- Mobile Menu -->
    <div 
      class="md:hidden fixed inset-0 bg-black z-40 opacity-0 invisible transition-all duration-300 ease-out" 
      id="mobile-menu"
    >
      <!-- Menu Container -->
      <div class="flex flex-col h-full bg-gray-900 shadow-2xl">
        
        <!-- Header with close button -->
        <div class="flex items-center justify-between p-6 border-b border-gray-700">
          <div class="flex items-center gap-3">
            <img src="/autimind_logo_sq300.png" alt="AutiMind Logo" class="w-10 h-10 rounded-full" />
            <span class="text-xl font-bold text-white">AutiMind</span>
          </div>
          <button 
            class="text-gray-300 hover:text-white p-2 rounded-lg hover:bg-gray-800 transition-colors" 
            id="mobile-menu-close"
            aria-label="Close mobile menu"
          >
            <X className="w-6 h-6" />
          </button>
        </div>
        
        <!-- Navigation Links -->
        <div class="flex-1 px-6 py-8 space-y-4 overflow-y-auto">
          
          <a 
            href="#about" 
            class="flex items-center gap-4 text-white text-lg font-medium py-4 px-4 rounded-xl hover:bg-teal-600 transition-all duration-200 mobile-menu-link border-l-4 border-transparent hover:border-teal-400"
          >
            <span class="w-2 h-2 bg-teal-400 rounded-full"></span>
            About
          </a>
          
          <a 
            href="/services" 
            class="flex items-center gap-4 text-white text-lg font-medium py-4 px-4 rounded-xl hover:bg-orange-600 transition-all duration-200 mobile-menu-link border-l-4 border-transparent hover:border-orange-400"
          >
            <span class="w-2 h-2 bg-orange-400 rounded-full"></span>
            AI Services
          </a>
          
          <a 
            href="/industries" 
            class="flex items-center gap-4 text-white text-lg font-medium py-4 px-4 rounded-xl hover:bg-teal-600 transition-all duration-200 mobile-menu-link border-l-4 border-transparent hover:border-teal-400"
          >
            <span class="w-2 h-2 bg-teal-400 rounded-full"></span>
            Industries
          </a>
          
          <a 
            href="/our-work" 
            class="flex items-center gap-4 text-white text-lg font-medium py-4 px-4 rounded-xl hover:bg-orange-600 transition-all duration-200 mobile-menu-link border-l-4 border-transparent hover:border-orange-400"
          >
            <span class="w-2 h-2 bg-orange-400 rounded-full"></span>
            Our Work
          </a>
          
          <a 
            href="/astrolms" 
            class="flex items-center gap-4 text-white text-lg font-medium py-4 px-4 rounded-xl hover:bg-teal-600 transition-all duration-200 mobile-menu-link border-l-4 border-transparent hover:border-teal-400"
          >
            <span class="w-2 h-2 bg-teal-400 rounded-full"></span>
            AstroLMS
          </a>
          
          <a 
            href="/dao" 
            class="flex items-center gap-4 text-white text-lg font-medium py-4 px-4 rounded-xl hover:bg-orange-600 transition-all duration-200 mobile-menu-link border-l-4 border-transparent hover:border-orange-400"
          >
            <span class="w-2 h-2 bg-orange-400 rounded-full"></span>
            DAO
          </a>
          
          <a 
            href="/autimind-investors" 
            class="flex items-center gap-4 text-white text-lg font-medium py-4 px-4 rounded-xl hover:bg-teal-600 transition-all duration-200 mobile-menu-link border-l-4 border-transparent hover:border-teal-400"
          >
            <span class="w-2 h-2 bg-teal-400 rounded-full"></span>
            Investors
          </a>
          
        </div>
        
        <!-- Footer Section -->
        <div class="p-6 border-t border-gray-700 space-y-4">
          
          <!-- Contact Button -->
          <a 
            href="#contact" 
            class="flex items-center justify-center gap-3 w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white py-4 px-6 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-105 mobile-menu-link"
          >
            <span>Contact Us</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </a>
          
          <!-- Social Links -->
          <div class="flex items-center justify-center gap-4">
            <span class="text-gray-400 text-sm">Follow us:</span>
            <a 
              href="https://linkedin.com/company/autimind" 
              target="_blank" 
              rel="noopener noreferrer" 
              class="flex items-center justify-center w-12 h-12 bg-blue-600 rounded-full hover:bg-blue-700 transition-colors"
              aria-label="Follow us on LinkedIn"
            >
              <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z" clip-rule="evenodd"/>
              </svg>
            </a>
          </div>
          
          <!-- Copyright -->
          <div class="text-center text-gray-500 text-sm">
            Â© 2025 AutiMind. All rights reserved.
          </div>
          
        </div>
        
      </div>
    </div>
  </nav>
</header>

<script>
  // Simple, bulletproof mobile menu script
  const menuToggle = document.getElementById('mobile-menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  const mobileMenuClose = document.getElementById('mobile-menu-close');
  const menuIcon = document.getElementById('menu-icon');
  const closeIcon = document.getElementById('close-icon');
  const body = document.body;
  
  let isMenuOpen = false;
  
  // Simple function to open menu
  function openMenu() {
    console.log('Opening menu');
    isMenuOpen = true;
    
    // Show the menu
    mobileMenu.classList.remove('opacity-0', 'invisible');
    mobileMenu.classList.add('opacity-100', 'visible');
    
    // Update icons
    menuIcon.style.display = 'none';
    closeIcon.style.display = 'block';
    
    // Prevent body scroll
    body.style.overflow = 'hidden';
    
    // Update ARIA
    menuToggle.setAttribute('aria-expanded', 'true');
  }
  
  // Simple function to close menu
  function closeMenu() {
    console.log('Closing menu');
    isMenuOpen = false;
    
    // Hide the menu
    mobileMenu.classList.remove('opacity-100', 'visible');
    mobileMenu.classList.add('opacity-0', 'invisible');
    
    // Update icons
    menuIcon.style.display = 'block';
    closeIcon.style.display = 'none';
    
    // Restore body scroll
    body.style.overflow = 'auto';
    
    // Update ARIA
    menuToggle.setAttribute('aria-expanded', 'false');
  }
  
  // Toggle menu when hamburger button is clicked
  menuToggle?.addEventListener('click', function(e) {
    e.preventDefault();
    console.log('Menu toggle clicked, isMenuOpen:', isMenuOpen);
    
    if (isMenuOpen) {
      closeMenu();
    } else {
      openMenu();
    }
  });
  
  // Close menu when close button is clicked
  mobileMenuClose?.addEventListener('click', function(e) {
    e.preventDefault();
    console.log('Close button clicked');
    closeMenu();
  });
  
  // Close menu when clicking outside (on the black background)
  mobileMenu?.addEventListener('click', function(e) {
    if (e.target === mobileMenu) {
      console.log('Clicked outside menu');
      closeMenu();
    }
  });
  
  // Close menu when any menu link is clicked
  const menuLinks = document.querySelectorAll('.mobile-menu-link');
  menuLinks.forEach(link => {
    link.addEventListener('click', function() {
      console.log('Menu link clicked');
      closeMenu();
    });
  });
  
  // Close menu on escape key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && isMenuOpen) {
      console.log('Escape key pressed');
      closeMenu();
    }
  });
  
  // Close menu when window is resized to desktop size
  window.addEventListener('resize', function() {
    if (window.innerWidth >= 768 && isMenuOpen) {
      console.log('Window resized to desktop, closing menu');
      closeMenu();
    }
  });
  
  // Initialize menu as closed
  document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded, initializing menu');
    closeMenu();
  });
  
  // Header background change on scroll
  const header = document.querySelector('header');
  window.addEventListener('scroll', function() {
    if (window.scrollY > 100) {
      header?.classList.add('bg-gray-900/98');
      header?.classList.remove('bg-gray-900/95');
    } else {
      header?.classList.add('bg-gray-900/95');
      header?.classList.remove('bg-gray-900/98');
    }
  });
  
  // Smooth scrolling for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const href = this.getAttribute('href');
      const target = href ? document.querySelector(href) : null;
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
</script>